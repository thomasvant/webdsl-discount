ModuleDefs("user/user-model"{At("../user/user-model.app",1,8)},[AccessControlPrincipal("User"{At("../user/user-model.app",3,14)},["email"{At("../user/user-model.app",3,36)},"password"{At("../user/user-model.app",3,43)}]){At("../user/user-model.app",3,1)}],[AccessControlDefinition(None,[AccessControlRule("page"{At("../user/user-model.app",6,7)},"root"{At("../user/user-model.app",6,12)},MatchArgs([],None){At("../user/user-model.app",6,16)},True{At("../user/user-model.app",6,17)},[]){At("../user/user-model.app",6,2)}]){At("../user/user-model.app",5,1)},Section(" user"{At("../user/user-model.app",8,8)},[EntityNoSuper("User"{At("../user/user-model.app",10,8)},[Property("name"{At("../user/user-model.app",11,2)},AnyProp{At("../user/user-model.app",11,6)},SimpleSort("String"{At("../user/user-model.app",11,8)}){At("../user/user-model.app",11,8)},[]{At("../user/user-model.app",12,2)}){At("../user/user-model.app",11,2)},Property("email"{At("../user/user-model.app",12,2)},AnyProp{At("../user/user-model.app",12,7)},SimpleSort("Email"{At("../user/user-model.app",12,9)}){At("../user/user-model.app",12,9)},[]{At("../user/user-model.app",13,2)}){At("../user/user-model.app",12,2)},Property("password"{At("../user/user-model.app",13,2)},AnyProp{At("../user/user-model.app",13,10)},SimpleSort("Secret"{At("../user/user-model.app",13,12)}){At("../user/user-model.app",13,12)},[]{At("../user/user-model.app",14,2)}){At("../user/user-model.app",13,2)},DerivedProperty("store"{At("../user/user-model.app",14,2)},AnyProp{At("../user/user-model.app",14,7)},SimpleSort("Bool"{At("../user/user-model.app",14,9)}){At("../user/user-model.app",14,9)},[]{At("../user/user-model.app",14,14)},False{At("../user/user-model.app",14,17)}){At("../user/user-model.app",14,2)},DerivedProperty("admin"{At("../user/user-model.app",15,2)},AnyProp{At("../user/user-model.app",15,7)},SimpleSort("Bool"{At("../user/user-model.app",15,9)}){At("../user/user-model.app",15,9)},[]{At("../user/user-model.app",15,14)},False{At("../user/user-model.app",15,17)}){At("../user/user-model.app",15,2)},Property("discounts"{At("../user/user-model.app",16,2)},Ref{At("../user/user-model.app",16,12)},GenericSort("Set"{At("../user/user-model.app",16,15)},[SimpleSort("Discount"{At("../user/user-model.app",16,19)}){At("../user/user-model.app",16,19)}]){At("../user/user-model.app",16,15)},[InverseAnno("Discount"{At("../user/user-model.app",16,38)},"creator"{At("../user/user-model.app",16,47)}){At("../user/user-model.app",16,30)}]{At("../user/user-model.app",16,29)}){At("../user/user-model.app",16,2)}]){At("../user/user-model.app",10,1)}]){At("../user/user-model.app",8,1)},Section(" registration"{At("../user/user-model.app",19,8)},[ExtendEntity("User"{At("../user/user-model.app",21,15)},[Function("register"{At("../user/user-model.app",22,11)},[]{At("../user/user-model.app",22,19)},SimpleSort("Void"){At("../user/user-model.app",22,22)},Block([Stat(Assignment(Var("email"{At("../user/user-model.app",23,3)}){At("../user/user-model.app",23,3)},Call(Var("email"{At("../user/user-model.app",23,12)}){At("../user/user-model.app",23,12)},"toLowerCase"{At("../user/user-model.app",23,18)},[]){At("../user/user-model.app",23,12)}){At("../user/user-model.app",23,3)}){At("../user/user-model.app",23,3)},Stat(Assignment(Var("password"{At("../user/user-model.app",24,3)}){At("../user/user-model.app",24,3)},Call(Var("password"{At("../user/user-model.app",24,15)}){At("../user/user-model.app",24,15)},"digest"{At("../user/user-model.app",24,24)},[]){At("../user/user-model.app",24,15)}){At("../user/user-model.app",24,3)}){At("../user/user-model.app",24,3)},Stat(Call(Var("this"{At("../user/user-model.app",27,3)}){At("../user/user-model.app",27,3)},"save"{At("../user/user-model.app",27,8)},[]){At("../user/user-model.app",27,3)}){At("../user/user-model.app",27,3)}]){At("../user/user-model.app",22,22)}){At("../user/user-model.app",22,2)}]){At("../user/user-model.app",21,1)}]){At("../user/user-model.app",19,1)},Section(" sign in"{At("../user/user-model.app",31,8)},[ExtendEntity("User"{At("../user/user-model.app",33,15)},[Function("signIn"{At("../user/user-model.app",34,11)},[]{At("../user/user-model.app",34,17)},SimpleSort("Void"){At("../user/user-model.app",34,20)},Block([ValidateStatement(ThisCall("authenticate"{At("../user/user-model.app",35,12)},[Var("email"{At("../user/user-model.app",35,25)}){At("../user/user-model.app",35,25)},Var("password"{At("../user/user-model.app",35,32)}){At("../user/user-model.app",35,32)}]){At("../user/user-model.app",35,12)},String("Invalid credentials"{At("../user/user-model.app",35,44)}){At("../user/user-model.app",35,43)}){At("../user/user-model.app",35,3)}]){At("../user/user-model.app",34,20)}){At("../user/user-model.app",34,2)}]){At("../user/user-model.app",33,1)}]){At("../user/user-model.app",31,1)},Section(" sign out"{At("../user/user-model.app",39,8)},[ExtendEntity("User"{At("../user/user-model.app",41,15)},[Function("signOut"{At("../user/user-model.app",42,11)},[]{At("../user/user-model.app",42,18)},SimpleSort("Void"){At("../user/user-model.app",42,21)},Block([Stat(Assignment(FieldAccess(Var("securityContext"{At("../user/user-model.app",43,3)}){At("../user/user-model.app",43,3)},"principal"{At("../user/user-model.app",43,19)}){At("../user/user-model.app",43,3)},Null{At("../user/user-model.app",43,32)}){At("../user/user-model.app",43,3)}){At("../user/user-model.app",43,3)}]){At("../user/user-model.app",42,21)}){At("../user/user-model.app",42,2)}]){At("../user/user-model.app",41,1)}]){At("../user/user-model.app",39,1)}]){At("../user/user-model.app",1,1)}